# ==============================================
# NETAUDIT HOMESTACK - Environment Configuration
# ==============================================

# ======================
# NETBOX CONFIGURATION
# ======================
# Secret key para Netbox (genera uno aleatorio con: openssl rand -base64 32)
SECRET_KEY=F2MGc7S8NSoQf4cyaarXNRv8ygYrwtaLD5bxqvR6A2xuTLsUbZwrP3_Lnyz_V_AZpw4

# Usuarios permitidos (dejar * para permitir todos)
ALLOWED_HOSTS=*

# Base de datos
DB_NAME=netbox
DB_USER=netbox
DB_PASSWORD=netbox_secure_password_changeme
DB_HOST=postgres
DB_PORT=5432

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_CACHE_HOST=redis-cache
REDIS_CACHE_PORT=6379
REDIS_CACHE_PASSWORD=
REDIS_CACHE_DATABASE=1

# PostgreSQL (para el servicio de postgres)
POSTGRES_DB=netbox
POSTGRES_USER=netbox
POSTGRES_PASSWORD=netbox_secure_password_changeme

# Superusuario de Netbox (se crea automáticamente)
SUPERUSER_NAME=admin
SUPERUSER_EMAIL=admin@homelab.local
SUPERUSER_PASSWORD=admin_changeme
SUPERUSER_API_TOKEN=0123456789abcdef0123456789abcdef01234567

# ======================
# SCANNER CONFIGURATION
# ======================
# URL de Netbox (desde dentro de Docker)
NETBOX_URL=http://netbox:8080
NETBOX_TOKEN=0123456789abcdef0123456789abcdef01234567

# Redes a escanear (separadas por coma)
SCAN_NETWORKS=192.168.3.0/24,192.168.100.0/24

# Timing del escaneo nmap (T1-T5)
# T1: Paranoid - Muy lento, sigiloso
# T2: Sneaky - Lento, poco intrusivo (RECOMENDADO)
# T3: Normal - Balance
# T4: Aggressive - Rápido
# T5: Insane - Muy rápido, muy ruidoso
NMAP_TIMING=T2

# Community string para SNMP
SNMP_COMMUNITY=public

# Habilitar escaneo de sistema operativo (más lento pero más info)
ENABLE_OS_DETECTION=true

# Habilitar escaneo de versiones de servicios
ENABLE_SERVICE_VERSION=true

# Número máximo de puertos a escanear (top ports)
MAX_PORTS=1000

# Habilitar descubrimiento SNMP (true/false)
ENABLE_SNMP=true

# Habilitar integración con Proxmox (true/false)
ENABLE_PROXMOX=true

# ======================
# CLASSIFICATION RANGES
# ======================
# Define los rangos de IP para clasificación automática
# Formato: NOMBRE=START_IP-END_IP

# Infraestructura (routers, switches, firewalls)
RANGE_INFRASTRUCTURE=192.168.3.1-192.168.3.9

# Domótica (IoT, sensores, smart home)
RANGE_DOMOTICA=192.168.3.10-192.168.3.50

# Trabajo (PCs, laptops, servidores)
RANGE_TRABAJO=192.168.3.51-192.168.3.150

# Entretenimiento (TVs, consolas, streaming)
RANGE_ENTRETENIMIENTO=192.168.3.151-192.168.3.254

# Red ISP (dispositivos en la red del ISP)
RANGE_ISP=192.168.100.0-192.168.100.254

# ======================
# OXIDIZED CONFIGURATION
# ======================
# NOTA: Los routers tienen diferentes credenciales, se configuran en router.db
# Estos valores son solo por defecto si no se especifican en router.db

# Router ISP (Huawei HG8245Q2)
ROUTER_ISP_USERNAME=root
ROUTER_ISP_PASSWORD=telecomw0m!

# Router Propio (Huawei AX3)
ROUTER_PROPIO_USERNAME=admin
ROUTER_PROPIO_PASSWORD=5891Otsoga31

# ======================
# PROXMOX INTEGRATION (OPCIONAL)
# ======================
# Descomentar si quieres integración con Proxmox
PROXMOX_HOST=192.168.3.200
PROXMOX_USER=root@pam
PROXMOX_PASSWORD=5891Otsoga.32
PROXMOX_VERIFY_SSL=false

# ======================
# LOGGING
# ======================
LOG_LEVEL=INFO
LOG_FILE=/app/logs/scanner.log

# ======================
# TIMEZONE
# ======================
TZ=America/Santiago